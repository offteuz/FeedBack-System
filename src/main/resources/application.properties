# Configurações da aplicação FeedBack System
spring.application.name=feedbacksystem

# ===== Banco de Dados =====
# DESENVOLVIMENTO LOCAL (padrão): H2 em memória
# Nenhuma configuração necessária, simplesmente rode: ./mvnw spring-boot:run
# 
# PRODUÇÃO (Azure): Configure as 4 variáveis de ambiente no App Service:
# - SPRING_DATASOURCE_URL
# - SPRING_DATASOURCE_USERNAME
# - SPRING_DATASOURCE_PASSWORD
# - SPRING_PROFILES_ACTIVE=azure
#
# Para detalhes, consulte o arquivo .env.example ou DEPLOY_AZURE.md
#
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:feedbacksystemdb}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:admin}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:admin}
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_HIKARI_MAX_POOL_SIZE:10}
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_HIKARI_MIN_IDLE:5}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT:20000}

# Console do H2 habilitado durante o desenvolvimento
# Acesse em http://localhost:8080/h2-console para ver o banco visualmente
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ===== Configuração do Hibernate e JPA =====
# O dialeto varia conforme o banco: H2 para desenvolvimento, MySQL para produção
# O ddl-auto=update deixa o Hibernate criar/atualizar as tabelas automaticamente
spring.jpa.database-platform=${SPRING_JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=true

# ===== Níveis de Log =====
# Mostra informações importantes e erros globalmente
logging.level.root=INFO
# Nível DEBUG para ver o que tá rolando nos controladores
logging.level.com.fiap.feedbacksystem.controller=DEBUG
# Log de INFO para os serviços (menos detalhado que DEBUG)
logging.level.com.fiap.feedbacksystem.service=INFO

# Formato das mensagens no console (data, classe, nível, mensagem)
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %level - %msg%n
