# Configurações específicas para Azure MySQL
# Ative com: -Dspring.profiles.active=azure

# ===== Banco de Dados Azure MySQL =====
# NOTA: Não coloque credenciais aqui! Use variáveis de ambiente no App Service
# Configure APENAS estas 4 variáveis no Portal Azure → App Service → Configuration → Application settings:
# - SPRING_DATASOURCE_URL
# - SPRING_DATASOURCE_USERNAME
# - SPRING_DATASOURCE_PASSWORD
# - SPRING_PROFILES_ACTIVE
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:com.mysql.cj.jdbc.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE:5}
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE:1}
spring.datasource.hikari.connection-timeout=${SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT:20000}

# ===== JPA/Hibernate para MySQL =====
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# H2 console desabilitado em produção
spring.h2.console.enabled=false

# ===== Logging =====
logging.level.root=INFO
logging.level.com.fiap.feedbacksystem.controller=DEBUG
logging.level.com.fiap.feedbacksystem.service=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %level - %msg%n
