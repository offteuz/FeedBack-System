# ==========================================
# CONFIGURAÇÃO DE VARIÁVEIS DE AMBIENTE
# ==========================================
# Este arquivo mostra como configurar as variáveis de ambiente da aplicação

# ==========================================
# DESENVOLVIMENTO LOCAL (H2)
# ==========================================
# Para desenvolvimento local, a aplicação usa H2 por padrão (em memória)
# Você NÃO precisa definir nenhuma variável de ambiente
# Basta rodar: ./mvnw spring-boot:run

# Se quiser ser explícito, pode exportar as variáveis do H2:
# export SPRING_DATASOURCE_URL="jdbc:h2:mem:feedbacksystemdb"
# export SPRING_DATASOURCE_USERNAME="admin"
# export SPRING_DATASOURCE_PASSWORD="admin"
# export SPRING_DATASOURCE_DRIVER="org.h2.Driver"
# export SPRING_JPA_DATABASE_PLATFORM="org.hibernate.dialect.H2Dialect"
# export SPRING_JPA_HIBERNATE_DDL_AUTO="update"

# ==========================================
# TESTE LOCAL COM MySQL (powershell)
# ==========================================
# Se quiser testar localmente com MySQL antes de subir para o Azure:

# $env:SPRING_DATASOURCE_URL="jdbc:mysql://<seu-servidor>:3306/feedbacksystemdb?serverTimezone=UTC&characterEncoding=UTF-8&sslMode=REQUIRED&allowPublicKeyRetrieval=true&useSSL=false"
# $env:SPRING_DATASOURCE_USERNAME="<seu-usuario-mysql>"
# $env:SPRING_DATASOURCE_PASSWORD="<sua-senha-mysql>"
# $env:SPRING_PROFILES_ACTIVE="azure"

# Depois execute:
# java -jar .\target\feedbacksystem-0.0.1-SNAPSHOT.jar --spring.profiles.active=azure

# ==========================================
# PRODUÇÃO - AZURE APP SERVICE (MySQL)
# ==========================================
# Configure APENAS estas 4 variáveis no Portal Azure:
# 1. Acesse: Portal Azure → App Service (FeedBack-System-Nexus)
# 2. Vá para: Configuration → Application settings
# 3. Clique em: + New application setting
# 4. Adicione as 4 variáveis abaixo:

# SPRING_DATASOURCE_URL
# Valor: jdbc:mysql://<seu-servidor>.mysql.database.azure.com:3306/<seu-banco>?serverTimezone=UTC&characterEncoding=UTF-8&sslMode=REQUIRED&allowPublicKeyRetrieval=true&useSSL=false

# SPRING_DATASOURCE_USERNAME
# Valor: <seu-usuario-mysql>

# SPRING_DATASOURCE_PASSWORD
# Valor: <sua-senha-mysql>

# SPRING_PROFILES_ACTIVE
# Valor: azure
# (Ativa o perfil Azure e carrega as configurações do arquivo application-azure.properties)

# ==========================================
# AZURE APPLICATION INSIGHTS (MONITORAMENTO)
# ==========================================
# Configure esta variável para habilitar o monitoramento com Application Insights

# APPLICATIONINSIGHTS_CONNECTION_STRING
# Valor: InstrumentationKey=00000000-0000-0000-0000-000000000000;IngestionEndpoint=https://....
# Para obter o valor:
# 1. Acesse: Portal Azure → Seu recurso Application Insights
# 2. Vá para: Overview
# 3. Copie o valor de "Connection String"
#
# NOTA: Esta variável é OBRIGATÓRIA para produção (Azure), mas OPCIONAL para desenvolvimento local
# Se não configurada, a aplicação roda normalmente sem enviar telemetria

# Exemplo para PowerShell (desenvolvimento local):
# $env:APPLICATIONINSIGHTS_CONNECTION_STRING="InstrumentationKey=xxx;IngestionEndpoint=https://xxx.in.applicationinsights.azure.com/;LiveEndpoint=https://xxx.livediagnostics.monitor.azure.com/;ApplicationId=xxx"

